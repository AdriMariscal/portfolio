---
/* Intentamos usar PUBLIC_APP_VERSION si existe; si no, leemos de package.json */
const envVersion = import.meta.env.PUBLIC_APP_VERSION;

let version = envVersion ?? '0.0.0';
try {
  // Import JSON con assert funciona bien en Astro 5.x
  const pkg = (await import('../../package.json', { assert: { type: 'json' } })).default as { version?: string };
  version = envVersion ?? pkg?.version ?? '0.0.0';
} catch {
  // si fallara el import en algún entorno, mantenemos el valor previo
}

const year = new Date().getFullYear();
---

<footer class="site-footer">
  <div class="wrap">
    <p>© {year} Adrián Mariscal · v{version}</p>
  </div>
</footer>

<style>
.site-footer{
  border-top:1px solid #e5e7eb; background:var(--am-bg,#fff); margin-top:40px;
}
.site-footer .wrap{
  max-width:1100px; margin:0 auto; padding:24px 16px;
  text-align:center; color:var(--am-graphite,#162433);
}
</style>
