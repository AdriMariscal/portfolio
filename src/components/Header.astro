---
// src/components/Header.astro
const normalize = (p: string) => {
  const s = p.replace(/\/+$/, "");
  return s === "" ? "/" : s;
};

const current = normalize(Astro.url.pathname);

const isActive = (href: string) => {
  const target = normalize(href);
  const active = current === target || current.startsWith(`${target}/`);
  return active ? "true" : undefined;
};
---

<header class="header">
  <div class="wrap header__inner">
    <a class="brand" href="/">Adri√°n Mariscal</a>

    <nav class="nav">
      <a class="nav__link" href="/" aria-current={isActive("/")}>Inicio</a>
      <a class="nav__link" href="/projects" aria-current={isActive("/projects")}>Proyectos</a>
      <a class="nav__link" href="/blog" aria-current={isActive("/blog")}>Blog</a>
      <a class="nav__link" href="/contact" aria-current={isActive("/contact")}>Contacto</a>
    </nav>
  </div>
</header>
