---
// src/components/Hero.astro
import { getCollection } from "astro:content";

// Cuenta proyectos autom√°ticamente
const projects = await getCollection("projects");
const projectsCount = projects.length;

// üîß Cambia esta constante si tu ruta de etiquetas es distinta
// p.ej. const SALESFORCE_TAG_PATH = "/blog?tag=salesforce";
const SALESFORCE_TAG_PATH = "/blog/tags/salesforce";
---

<section class="section hero">
  <div class="wrap">
    <h1 class="hero__title">Arquitecto Salesforce &amp; soluciones web a medida</h1>
    <p class="hero__lead">Dise√±o y construyo sistemas claros, mantenibles y con impacto.</p>

    <div class="grid" style="grid-auto-flow: column; gap: 12px; width: max-content; margin-top: 16px">
      <a class="btn btn--primary" href="/contact">Cu√©ntame tu proyecto</a>
      <a class="btn btn--secondary" href="/blog">Leer el blog</a>
    </div>

    <div class="grid grid--3 hero__stats" style="margin-top: 20px">
      <!-- 10+ a√±os con Salesforce -> enlace a p√°gina de etiqueta -->
      <a class="card card--link" href={SALESFORCE_TAG_PATH} aria-label="Entradas del blog con etiqueta Salesforce">
        <div class="card__body">
          <h3 class="card__title">10+</h3>
          <small>A√±os con Salesforce</small>
        </div>
      </a>

      <!-- N¬∫ de proyectos -> calculado y con enlace a /projects -->
      <a class="card card--link" href="/projects" aria-label="Ver proyectos">
        <div class="card__body">
          <h3 class="card__title">{projectsCount}</h3>
          <small>Proyectos propios</small>
        </div>
      </a>

      <!-- Lighthouse medio -> enlaza al post explicativo -->
      <a class="card card--link" href="/blog/lighthouse" aria-label="Qu√© es Google Lighthouse">
        <div class="card__body">
          <h3 class="card__title">98/100</h3>
        <small>Lighthouse medio</small>
        </div>
      </a>
    </div>
  </div>
</section>
