New-Item -ItemType Directory -Force -Path netlify/edge-functions | Out-Null

@"
[build]
  command = "npm run build"
  publish = "dist"

[edge_functions]
  directory = "netlify/edge-functions"

# Aplica la funci√≥n globalmente, pero ella sola se desactiva fuera de 'staging'
[[edge_functions]]
  path = "/*"
  function = "basic-auth"

[context.production.environment]
  ENVIRONMENT = "production"

[context."branch:staging".environment]
  ENVIRONMENT = "staging"
"@ | Out-File -FilePath netlify.toml -Encoding utf8
